# Circling bot

5 SETSPEED

main_loop:
	TRACKS 3 + SETTRACKS		# Gradually turn
	AIM 15 + SETAIM				# Spin turret faster
	SCAN DUP					# Check for enemies and save an extra copy of the result.
	0 >							# Found something?
	"fire" JUMPIF				# Jump to fire if found (which uses the copy of SCAN result).
	DROP						# Clear the unneeded SCAN copy.
	"main_loop" JUMP			# Loop

fire:
	DUP 200 <					# Check distance
	"high_power" JUMPIF			# High power for close targets
	5 FIRE						# Medium power
	"main_loop" JUMP

high_power:
	DROP						# Clear distance
	10 FIRE						# Full power!
	"main_loop" JUMP